<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Responsive TOC with Collapse</title>
    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      /* Mobile styles: up to 767.98px */
      @media (max-width: 767.98px) {
        /* When expanded, the TOC overlays the content */
        #toc {
          position: fixed;
          top: 0;
          left: 0;
          bottom: 0;
          width: 250px; /* Adjust width as needed */
          background: #fff;
          z-index: 1050;
          overflow-y: auto;
          padding: 1rem;
          box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
        }
      }

      /* Desktop styles: 768px and up */
      @media (min-width: 768px) {
        /* Force the collapse element to always show */
        #toc.collapse {
          display: block !important;
        }
        /* Style the TOC as a sidebar */
        #toc {
          position: static;
          width: 250px;
          background: #f8f9fa;
          border-right: 1px solid #dee2e6;
          box-shadow: none;
        }
        /* Add left margin to main content */
        main {
          margin-left: 250px;
        }
        /* Hide the mobile-only close button */
        #toc .btn-close {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <!-- Mobile: Toggle button for TOC (visible only on mobile) -->
    <div class="container-fluid d-md-none">
      <button
        class="btn btn-primary my-3"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#toc"
        aria-expanded="false"
        aria-controls="toc"
      >
        Table of Contents
      </button>
    </div>

    <!-- Single TOC Element Using Collapse -->
    <nav id="toc" class="collapse" aria-label="Table of Contents">
      <!-- Mobile: Close button inside the overlay -->
      <button
        class="btn-close d-md-none mb-3"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#toc"
        aria-label="Close"
      ></button>
      <ul class="nav flex-column">
        <li class="nav-item">
          <a
            class="nav-link"
            href="#section1"
            data-bs-toggle="collapse"
            data-bs-target="#toc"
          >
            Section 1
          </a>
          <ul class="nav flex-column ms-3">
            <li class="nav-item">
              <a
                class="nav-link"
                href="#subsection1a"
                data-bs-toggle="collapse"
                data-bs-target="#toc"
              >
                Subsection 1a
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="#subsection1b"
                data-bs-toggle="collapse"
                data-bs-target="#toc"
              >
                Subsection 1b
              </a>
            </li>
          </ul>
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            href="#section2"
            data-bs-toggle="collapse"
            data-bs-target="#toc"
          >
            Section 2
          </a>
          <ul class="nav flex-column ms-3">
            <li class="nav-item">
              <a
                class="nav-link"
                href="#subsection2a"
                data-bs-toggle="collapse"
                data-bs-target="#toc"
              >
                Subsection 2a
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="#subsection2b"
                data-bs-toggle="collapse"
                data-bs-target="#toc"
              >
                Subsection 2b
              </a>
            </li>
          </ul>
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            href="#section3"
            data-bs-toggle="collapse"
            data-bs-target="#toc"
          >
            Section 3
          </a>
        </li>
      </ul>
    </nav>

    <!-- Main Content -->
    <main class="container">
      <div class="content mt-4">
        <h2 id="section1">Section 1</h2>
        <p>Content for section 1...</p>
        <h3 id="subsection1a">Subsection 1a</h3>
        <p>Content for subsection 1a...</p>
        <h3 id="subsection1b">Subsection 1b</h3>
        <p>Content for subsection 1b...</p>

        <h2 id="section2">Section 2</h2>
        <p>Content for section 2...</p>
        <h3 id="subsection2a">Subsection 2a</h3>
        <p>Content for subsection 2a...</p>
        <h3 id="subsection2b">Subsection 2b</h3>
        <p>Content for subsection 2b...</p>

        <h2 id="section3">Section 3</h2>
        <p>Content for section 3...</p>
      </div>
    </main>

    <!-- Bootstrap 5 Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
